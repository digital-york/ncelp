<div class="container" id="vue-container">
  <h2>Download page</h2>
  <p>
    NCELP Resources are available for download free of charge. However,
    it would be helpful to us and our funders to have some information about who uses these resources,
    so we can make the Resource Portal even more useful.
  </p>

  <form id="surveyform" @submit="checkForm" action="/survey/submit" method="post">

    <div class="form-group row">
      <label for="status" class="col-sm-3 col-form-label">About you - Please tell us what your current role(s) is / are.
        Tick at least one field  (this is obligatory in order to download a resource):
      </label>
      <div class="col-sm-9">
        <div class="form-check">
          <label class="form-check-label">
            <%= check_box_tag 'survey[status][]', 'language_learner', false, id: 'status_language_learner' %>
            Language learner
          </label>
        </div>

        <div class="form-check">
          <label class="form-check-label">
            <%= check_box_tag 'survey[status][]', 'language_teacher', false, id: 'status_language_teacher' %>
            Language teacher/instructor
          </label>
        </div>

        <!-- Language teacher -->
        <div style="padding-left: 20px;">
          <div class="form-check">
            <label class="form-check-label">
              <%= check_box_tag 'survey[status][]', 'language_teacher_pre_elementary', false, id: 'status_language_teacher_pre_elementary' %>
              Pre-elementary / kindergarten
            </label>
          </div>
          <div class="form-check">
            <label class="form-check-label">
              <%= check_box_tag 'survey[status][]', 'language_teacher_primary', false, id: 'status_language_teacher_primary' %>
              Primary school
            </label>
          </div>
          <div class="form-check">
            <label class="form-check-label">
              <%= check_box_tag 'survey[status][]', 'language_teacher_secondary', false, id: 'status_language_teacher_secondary' %>
              Secondary / high school
            </label>
          </div>
          <div class="form-check">
            <label class="form-check-label">
              <%= check_box_tag 'survey[status][]', 'language_teacher_tertiary', false, id: 'status_language_teacher_tertiary' %>
              Tertiary / university
            </label>
          </div>
          <div class="form-check">
            <label class="form-check-label">
              <%= check_box_tag 'survey[status][]', 'language_teacher_adult_edu', false, id: 'status_language_teacher_adult_edu' %>
              Adult education
            </label>
          </div>
          <div class="form-check">
            <label class="form-check-label">
              <%= check_box_tag 'survey[status][]', 'language_teacher_private', false, id: 'status_language_teacher_private' %>
              Private institution
            </label>
          </div>
          <div class="form-check">
            <label class="form-check-label">
              <%= check_box_tag 'survey[status][]', 'language_teacher_other', false, id: 'status_language_teacher_other' %>
              Other
            </label>
          </div>
        </div>

        <!-- Materials / curriculum developer -->
        <div class="form-check">
          <label class="form-check-label">
            <%= check_box_tag 'survey[status][]', 'materials_developer', false, id: 'status_materials_developer' %>
            Materials / curriculum developer
          </label>
        </div>

        <!-- Media / journalist -->
        <div class="form-check">
          <label class="form-check-label">
            <%= check_box_tag 'survey[status][]', 'media', false, id: 'status_media' %>
            Media / journalist
          </label>
        </div>

        <!-- NCELP Specialist Teacher -->
        <div class="form-check">
          <label class="form-check-label">
            <%= check_box_tag 'survey[status][]', 'ncelp_specialist_teacher', false, id: 'status_ncelp_specialist_teacher' %>
            NCELP Specialist Teacher
          </label>
        </div>

        <!-- NCELP Hub School Teacher -->
        <div class="form-check">
          <label class="form-check-label">
            <%= check_box_tag 'survey[status][]', 'ncelp_hub_school_teacher', false, id: 'status_ncelp_hub_school_teacher' %>
            NCELP Hub School Teacher
          </label>
        </div>

        <!-- Parent -->
        <div class="form-check">
          <label class="form-check-label">
            <%= check_box_tag 'survey[status][]', 'parent', false, id: 'status_parent' %>
            Parent
          </label>
        </div>

        <!-- Policy maker -->
        <div class="form-check">
          <label class="form-check-label">
            <%= check_box_tag 'survey[status][]', 'policy_maker', false, id: 'status_policy_maker' %>
            Policy maker
          </label>
        </div>

        <!-- Professional development provider -->
        <div class="form-check">
          <label class="form-check-label">
            <%= check_box_tag 'survey[status][]', 'professional_development_provider', false, id: 'status_professional_development_provider' %>
            Professional development provider
          </label>
        </div>

        <!-- Student -->
        <div class="form-check">
          <label class="form-check-label">
            <%= check_box_tag 'survey[status][]', 'student', false, id: 'status_student' %>
            Student
          </label>
        </div>

        <div style="padding-left: 20px;">
          <div class="form-check">
            <label class="form-check-label">
              <%= check_box_tag 'survey[status][]', 'undergraduate', false, id: 'status_undergraduate' %>
              Undergraduate
            </label>
          </div>
          <div class="form-check">
            <label class="form-check-label">
              <%= check_box_tag 'survey[status][]', 'masters', false, id: 'status_masters' %>
              Masters
            </label>
          </div>
          <div class="form-check">
            <label class="form-check-label">
              <%= check_box_tag 'survey[status][]', 'phd', false, id: 'status_phd' %>
              PhD
            </label>
          </div>
          <div class="form-check">
            <label class="form-check-label">
              <%= check_box_tag 'survey[status][]', 'other', false, id: 'status_other' %>
              Other
            </label>
          </div>
        </div>

        <!-- Teacher educator -->
        <div class="form-check">
          <label class="form-check-label">
            <%= check_box_tag 'survey[status][]', 'teacher_educator', false, id: 'status_teacher_educator' %>
            Teacher educator
          </label>
        </div>

        <!-- Test developer -->
        <div class="form-check">
          <label class="form-check-label">
            <%= check_box_tag 'survey[status][]', 'test_developer', false, id: 'status_test_developer' %>
            Test developer
          </label>
        </div>

        <!-- University academic -->
        <div class="form-check">
          <label class="form-check-label">
            <%= check_box_tag 'survey[status][]', 'university_academic', false, id: 'status_university_academic' %>
            University academic
          </label>
        </div>
        <div style="padding-left: 20px;">
          <div class="form-check">
            <label class="form-check-label">
              <%= check_box_tag 'survey[status][]', 'early_career', false, id: 'status_early_career' %>
              Early career
            </label>
          </div>
          <div class="form-check">
            <label class="form-check-label">
              <%= check_box_tag 'survey[status][]', 'mid_career', false, id: 'status_mid_career' %>
              Mid-career
            </label>
          </div>
          <div class="form-check">
            <label class="form-check-label">
              <%= check_box_tag 'survey[status][]', 'established_scholar', false, id: 'status_established_scholar' %>
              Established scholar
            </label>
          </div>
        </div>

      </div>
    </div>

    <!-- Countries dropdown list -->
    <% countries = YAML.load_file("#{Rails.root.to_s}/config/authorities/country_code.yml") %>
    <div class="form-group row select optional summary_participants_country">
      <div class="col-sm-3">
        <label class="control-label select optional " for="summary_participants_country">Country (this is obligatory in order to download a resource):</label>
        <p class="help-block">Hold down Ctrl/Command to select more than one term</p>
      </div>
      <div class="col-sm-9">
        <select class="form-control select optional" multiple="multiple" name="survey[participants_country][]" id="summary_participants_country">
          <%=countries["terms"].each do |t| %>
            <option value=<%=t.fetch("id")%>><%=t.fetch("term")%></option>
          <% end %>
        </select>
      </div>
    </div>
    <p>If you are happy to be contacted by the NCELP team for feedback on whether and how you have used the resource,
      please leave your email below. We will not share your email with third parties.
      If you later decide that you would prefer not to receive communication from us, please contact the NCELP team at
    <a href="mailto:enquiries@ncelp.org">enquiries@ncelp.org</a>
      and we will remove your address from our databases.</p>

    <!-- email -->
    <div class="form-group row">
      <label id="survey-status-email-label" for="email" class="col-sm-3 col-form-label">Email (optional):</label>
      <div class="col-sm-9">
        <%= text_field_tag 'survey[email]', nil, class: "form-control", placeholder: "Email", id: 'survey-status-email' %>
      </div>
    </div>

    <p>
      NCELP is not responsible for the use of the downloaded resources.
    </p>

    <!-- Store resource id -->
    <div class="form-group row">
      <input type="hidden" name="resource_id" value="<%= params["resource_id"] %>"/>
      <input type="hidden" name="resource_fileset_id" value="<%= params["resource_fileset_id"] %>"/>
      <%= link_to t(:'helpers.action.cancel'), '#', onclick: "parent.$.fancybox.close();", class: 'btn btn-primary' %>
      <input type="submit" class="btn btn-primary" id="survey_form_submit" value="Save & Submit">
    </div>

  </form>
</div>
